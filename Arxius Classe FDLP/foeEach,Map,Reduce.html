

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <script>
    const facturas =[

        {
            precio: 23,
            cantidad: 1

        },
        {
            precio: 24,
            cantidad: 6

        },
        {
            precio: 26,
            cantidad: 4

        },
        {
            precio: 33,
            cantidad: 8

        },
    ]

const IVA = 1.21;

const totalFactura = facturas.map(i => i.precio * i.cantidad * IVA); //Queden valors nou array en number, OK
console.table(totalFactura);

totalFactura.forEach(i => i.toFixed(1)); // No em canvia l'array a 1 decimal... KO
console.table(totalFactura);

let totalFactura2 = totalFactura.map(i => Number(i.toFixed(1))); //Canvia a 1 decimal però m'ho converteix a string per la cara? Si ho converteixo a Number, funciona...
console.table(totalFactura2);
console.log(typeof (totalFactura2[0]));

const total = (totalFactura2.reduce((a, b) => a + b).toFixed(2)); //I aquí peta perquè s'ho troba en string
console.table(total);

const total2 = facturas.map(i => i.precio * i.cantidad * IVA).reduce((a, b) => a + b).toFixed(2);
console.log(total2)


    </script>


</body>
</html>